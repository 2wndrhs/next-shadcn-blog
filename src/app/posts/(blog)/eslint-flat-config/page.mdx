export const metadata = {
  title: 'ìš°ì•„í•˜ê²Œ ESLintì˜ Flat Config System ì ìš©í•˜ê¸°',
  description: 'ìš°ì•„í•˜ê²Œ ESLintì˜ Flat Config System ì ìš©í•˜ê¸°',
  publishDate: '2024-10-22',
  tags: ['eslint', 'prettier', 'wooteco', 'flat config'],
};

## ë“¤ì–´ê°€ë©°

2ë…„ ì „ ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ 5ê¸° í”„ë¦¬ì½”ìŠ¤ë¥¼ ì§„í–‰í•˜ë©´ì„œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í–ˆë˜ [ESLintì™€ Prettier ì„¤ì • ë°©ë²•](https://www.joonggon.me/posts/how-to-config-eslint-and-prettier)ì„ ê³µìœ í–ˆì—ˆëŠ”ë°ìš”.

ì´ë²ˆì— ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ 7ê¸° í”„ë¦¬ì½”ìŠ¤ì— ë‹¤ì‹œ ì°¸ì—¬í•˜ê²Œ ë˜ì—ˆëŠ”ë° 2ë…„ì´ ì§€ë‚œ ë§Œí¼ ESLintì™€ Prettierì—ë„ ë§ì€ ë³€í™”ê°€ ìˆì–´(íŠ¹íˆ, ESLint) ê·¸ëŸ¬í•œ ë³€í™”ë¥¼ ë°˜ì˜í•œ ESLintì™€ Prettier ì„¤ì • ë°©ë²•ì„ ìƒˆë¡­ê²Œ ê³µìœ í•˜ë ¤ í•©ë‹ˆë‹¤.

ì•„ë˜ ë‚´ìš©ì€ ESLintì™€ Prettierë¥¼ ì‚¬ìš©í•´ë³¸ ê²½í—˜ì´ ìˆë‹¤ëŠ” ê°€ì •í•˜ì— ì“°ì˜€ìœ¼ë¯€ë¡œ ESLintì™€ Prettierë¥¼ ì‚¬ìš©í•´ ë³´ì‹œì§€ ì•Šì€ ë¶„ë“¤ì€ [ì´ì „ ê¸€](https://www.joonggon.me/posts/how-to-config-eslint-and-prettier)ì´ë‚˜ [ESLint](https://eslint.org/docs/latest/), [Prettier](https://prettier.io/docs/en/) ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ ì£¼ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

ë˜í•œ VSCode ì—ë””í„°ì— [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)ì™€ [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) ìµìŠ¤í…ì…˜ì´ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ëŠ” ê°€ì •í•˜ì— ì„¤ì •ì„ ì§„í–‰í•˜ë¯€ë¡œ VSCodeì— ESLint, Prettier ìµìŠ¤í…ì…˜ì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šìœ¼ì‹  ë¶„ë“¤ì€ ìš°ì„  ìµìŠ¤í…ì…˜ ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ì‹œê³  ì•„ë˜ ESLint, Prettier ì„¤ì •ì„ ì´ì–´ì„œ ì§„í–‰í•´ì£¼ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## ESLintì˜ Flat Config System

ESLintëŠ” v8.21.0ë¶€í„° ì ì§„ì ìœ¼ë¡œ â€˜flat configâ€™ë¼ëŠ” ìƒˆë¡œìš´ ì„¤ì • ì‹œìŠ¤í…œì„ ë„ì…í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ê¸°ì¡´ì˜ ì„¤ì • ì‹œìŠ¤í…œ(eslintrc)ì—ì„œ ì—¬ëŸ¬ ìœ„ì¹˜ì— ì—¬ëŸ¬ ì„¤ì • íŒŒì¼, ì—¬ëŸ¬ ì„¤ì • íŒŒì¼ í¬ë§·(`.eslintrc`, `.eslintrc.js`, `.eslintrc.js` ë“±)ì„ ê°€ì§€ëŠ” ê²ƒì´ ê°€ëŠ¥í–ˆë˜ ê²ƒê³¼ ë‹¬ë¦¬ â€˜flat configâ€™ ì‹œìŠ¤í…œì—ì„œëŠ” í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ESLint ê´€ë ¨ ì„¤ì •ì„ í•˜ë‚˜ì˜ `eslint.config.js` íŒŒì¼ë¡œ ì œí•œí•©ë‹ˆë‹¤.

ë˜í•œ â€˜flat configâ€™ ì‹œìŠ¤í…œì´ ì²˜ìŒ ë„ì…ë˜ì—ˆë˜ 2022ë…„ì˜ JS ìƒíƒœê³„ì— ë§ì¶° ESLint ì„¤ì •ì— ìµœì‹  ECMA ë²„ì „, ESM ëª¨ë“ˆ ë°©ì‹ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ê¸€ì—ì„œëŠ” ìœ„ 2ê°€ì§€ ëŒ€í‘œì ì¸ ë³€ê²½ ì‚¬í•­ë§Œ ê°„ë‹¨í•˜ê²Œ ì†Œê°œí–ˆì§€ë§Œ â€˜flat configâ€™ ì‹œìŠ¤í…œì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì€ [Introduction to flat config](https://eslint.org/blog/2022/08/new-config-system-part-2/) ê¸€ì„ ì°¸ê³ í•˜ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

## ESLint ì„¤ì •í•˜ê¸°

ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ [1ì£¼ì°¨ - ë¬¸ìì—´ ë§ì…ˆ ê³„ì‚°ê¸°](https://github.com/woowacourse-precourse/javascript-calculator-7) ë ˆí¬ì§€í† ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ â€˜flat configâ€™ ê¸°ë°˜ì˜ ESLintë¥¼ ì„¤ì •í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

1. í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë” ìœ„ì¹˜ì—ì„œ `npm init @eslint/config@latest` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ESLint ì„¤ì¹˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
2. í„°ë¯¸ë„ì— ESLint ì„¤ì •ì„ ì–´ë–»ê²Œ í• ì§€ ì—¬ëŸ¬ ê°€ì§€ ì§ˆë¬¸ì´ ë‚˜ì˜¬í…ë° ì•„ë˜ë¥¼ ì°¸ê³ í•˜ì…”ì„œ ë‹µë³€í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.
   - How would you like to use ESLint?
     - To check syntax and find problems
   - What type of modules does your project use?
     - JavaScript modules (import/export) (7ê¸° í”„ë¦¬ì½”ìŠ¤ ë¯¸ì…˜ë“¤ì˜ ëª¨ë“ˆ ì‹œìŠ¤í…œì€ ESM)
   - Which framework does your project use?
     - None of these
   - Does your project use TypeScript?
     - javascript
   - Where does your code run?
     - \<space\>ë¡œ Browserë¥¼ ì„ íƒ í•´ì œí•˜ê³  ë‹¤ì‹œ \<space\>ë¡œ Nodeë¥¼ ì„ íƒ (í”„ë¦¬ì½”ìŠ¤ ë¯¸ì…˜ë“¤ì€ ë¸Œë¼ìš°ì €ê°€ ì•„ë‹Œ Node í™˜ê²½ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.)
   - Would you like to install them now?
     - Yes
   - Which package manager do you want to use?
     - npm (í”„ë¦¬ì½”ìŠ¤ ë¯¸ì…˜ì—ì„œ npm ë²„ì „ì„ ì œí•œí•˜ê³  ìˆìœ¼ë¯€ë¡œ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ëŠ” npmì„ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•˜ê² ìŠµë‹ˆë‹¤.)
3. í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ì´ ì„¤ì¹˜ë˜ê³  í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë” ìœ„ì¹˜ì— â€˜flat configâ€™ ë°©ì‹ì˜ `eslint.config.js` ì„¤ì • íŒŒì¼ì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
// eslint.config.js
import globals from 'globals';
import pluginJs from '@eslint/js';

export default [
  { languageOptions: { globals: globals.node } },
  pluginJs.configs.recommended,
];
```

### Airbnb ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì ìš©í•˜ê¸°

ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œëŠ” [Airbnb ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ](https://github.com/airbnb/javascript)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ë‹¤í–‰íˆ AirbnbëŠ” ìŠ¤íƒ€ì¼ ê°€ì´ë“œì—ì„œ ì œì•ˆí•˜ëŠ” ì‚¬í•­ë“¤ì„ ESLint ê·œì¹™ ì§‘í•©ìœ¼ë¡œ ë§Œë“¤ì–´ [eslint-config-airbnb-base](https://www.npmjs.com/package/eslint-config-airbnb-base)Â  ê³µìœ  êµ¬ì„±(Shared Configs) í˜•íƒœë¡œ ì œê³µí•˜ê³  ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ êµ¬ì„±ì„ ESLint ê·œì¹™ìœ¼ë¡œ í¬í•¨ì‹œí‚¨ë‹¤ë©´ Airbnb ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ë°©ì‹ëŒ€ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê³¼ì •ì—ì„œ ESLintì˜ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì €, `eslint-config-airbnb-base` íŒ¨í‚¤ì§€ ì„¤ì¹˜ë¥¼ ìœ„í•´ í„°ë¯¸ë„ì— ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ì¤ë‹ˆë‹¤.

```bash
npx install-peerdeps --dev eslint-config-airbnb-base
```

ì„¤ì¹˜ê°€ ì™„ë£Œëœ í›„ `package.json` íŒŒì¼ì„ í™•ì¸í•´ë³´ë©´ `eslint-config-airbnb-base`, `eslint-plugin-import` íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë¨ê³¼ ë™ì‹œì— `eslint`ì˜ ë²„ì „ì´ v9.X.Xì—ì„œ v8.57.1ë¡œ ë³€ê²½ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°(ì •í™•í•œ ë²„ì „ì€ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì‹œì ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.) ì´ëŠ” `eslint-config-airbnb-base`ê°€ ì•„ì§ [â€˜flat configâ€™ ì‹œìŠ¤í…œì„ ì§€ì›í•˜ì§€ ì•Šì•„](https://github.com/airbnb/javascript/issues/2804) peer dependenciesë¡œ ESLint v9.X.Xë¥¼ ëª…ì‹œí•˜ì§€ ì•Šê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```json
// https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/package.json
"peerDependencies": {
  "eslint": "^7.32.0 || ^8.2.0",
  "eslint-plugin-import": "^2.30.0"
},
```

ì´ ì‹œì ì—ì„œ ì €í¬ì—ê²Œ ë‚¨ì€ ì„ íƒì§€ëŠ” 2ê°œì…ë‹ˆë‹¤.

1. â€˜flat configâ€™ ì„¤ì • ì‹œìŠ¤í…œì„ ìœ ì§€í•˜ë©´ì„œ `eslint-config-airbnb-base`ë¥¼ ì ìš©í•˜ê¸°
2. ê³¼ê±°ì˜ ESLint ì„¤ì • ë°©ì‹(`eslintrc`)ìœ¼ë¡œ ëŒì•„ê°€ `eslint-config-airbnb-base`ë¥¼ ì ìš©í•˜ê¸°

2ë²ˆ ë°©ì‹ì„ ì„ íƒí•˜ë©´ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ ESLint v9.0.0ë¶€í„° ê¸°ì¡´ `eslintrc` ë°©ì‹ì˜ ì„¤ì •ì€ ì§€ì›ë˜ì§€ ì•Šê³  v10.0.0 ë¶€í„°ëŠ” `eslintrc` ë°©ì‹ì˜ ì„¤ì •ì´ ì™„ì „íˆ ì‚­ì œëœë‹¤ê³  í•˜ë‹ˆ([ê´€ë ¨ ê¸€](https://eslint.org/blog/2023/10/flat-config-rollout-plans/)) ë³µì¡í•˜ë”ë¼ë„ 1ë²ˆ ë°©ì‹ìœ¼ë¡œ ì„¤ì •ì„ ì§„í–‰í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

ë‹¤í–‰íˆ ESLintì—ì„œëŠ” ê¸°ì¡´ `eslintrc` ì„¤ì • ì‹œìŠ¤í…œê³¼ í˜¸í™˜ì„±ì„ ìœ„í•´ `eslintrc` ìŠ¤íƒ€ì¼ì˜ ê³µìœ  êµ¬ì„± ë° ì„¤ì •ì„ â€˜flat configâ€™ ì„¤ì • ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” [`@eslint/eslintrc`](https://www.npmjs.com/package/@eslint/eslintrc) íŒ¨í‚¤ì§€ì˜ `FlatCompat` í´ë˜ìŠ¤ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

`@eslint/eslintrc` íŒ¨í‚¤ì§€ ì„¤ì¹˜ë¥¼ ìœ„í•´ í„°ë¯¸ë„ì— ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

```bash
npm install @eslint/eslintrc --save-dev
```

â€˜flat configâ€™ ì‹œìŠ¤í…œì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” `eslint-config-airbnb-base`ë¥¼ â€˜flat configâ€™ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ [ê³µì‹ ë¬¸ì„œ](https://eslint.org/docs/latest/use/configure/migration-guide#using-eslintrc-configs-in-flat-config)ë¥¼ ì°¸ê³ í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ `eslint.config.js` íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.

```jsx
import { FlatCompat } from '@eslint/eslintrc';
import pluginJs from '@eslint/js';
import globals from 'globals';
import path from 'path';
import { fileURLToPath } from 'url';

// mimic CommonJS variables -- not needed if using CommonJS
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const compat = new FlatCompat({
  baseDirectory: __dirname,
});

export default [
  pluginJs.configs.recommended,
  ...compat.extends('airbnb-base'),
  { languageOptions: { globals: globals.node, ecmaVersion: 'latest' } },
];
```

`ecmaVersion: "latest"`ë¥¼ ëª…ì‹œí•œ ì´ìœ ëŠ” `import.meta` í”„ë¡œí¼í‹°ê°€ ES2020([ê´€ë ¨ ê¸€](https://ui.toast.com/weekly-pick/ko_20200409))ì—ì„œ ì¶”ê°€ë˜ì—ˆê¸° ë•Œë¬¸ì— ESLintì—ê²Œ ë¦°íŒ…ë˜ëŠ” ì½”ë“œì˜ ë²„ì „ì´ ES2020 ì´ìƒì´ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

ìœ„ì—ì„œ ì§§ê²Œ ì„¤ëª…í–ˆë“¯ì´ â€˜flat configâ€™ ì‹œìŠ¤í…œì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìµœì‹  ECMA ë²„ì „ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •í•˜ì§€ë§Œ `eslint-config-airbnb-base` êµ¬ì„±ì—ì„œ ECMA ë²„ì „ì„ 2018ë¡œ ì¬ì„¤ì •í•˜ë¯€ë¡œ([ì½”ë“œ](https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/index.js)) ë‹¤ì‹œ ECMA ë²„ì „ì„ ìµœì‹ ìœ¼ë¡œ ìˆ˜ì •í•´ì¤„ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.

`eslint.config.js` íŒŒì¼ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ë¬´ìˆ˜í•œ ESLint ì˜¤ë¥˜ê°€ ë³´ì´ì‹ ë‹¤ë©´ `eslint-config-airbnb-base`ê°€ ESLintì— ì •ìƒì ìœ¼ë¡œ ì ìš©ì´ ëœ ê²ƒì…ë‹ˆë‹¤. (ESLint ì˜¤ë¥˜ê°€ ì•ˆë³´ì´ì‹ ë‹¤ë©´ VSCodeì—ì„œ Shift + Command + Pë¥¼ ëˆŒëŸ¬ Command Paletteì„ ì—¬ì‹  ë‹¤ìŒ â€œRestart ESLint Serverâ€ë¥¼ ì…ë ¥í•˜ì—¬ ESLint ì„œë²„ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ì‹œí‚¤ì‹œë©´ ë©ë‹ˆë‹¤.)

![eslint-config-file-error.png](/img/eslint-flat-config/eslint-config-file-error.png)

## eslint.config.js íŒŒì¼ì—ì„œ ë°œìƒí•˜ëŠ” ESLInt ì˜¤ë¥˜ í•´ê²°í•˜ê¸°

í˜„ì¬ `eslint.config.js`ì—ì„œ ë°œìƒí•˜ëŠ” ESLint ì˜¤ë¥˜ëŠ” ì•„ë˜ 3ê°€ì§€ ì…ë‹ˆë‹¤.

1. Unexpected dangling '\_' in '\_\_filename'. eslint([no-underscore-dangle](https://eslint.org/docs/latest/rules/no-underscore-dangle))
2. â€˜\{íŒ¨í‚¤ì§€ ì´ë¦„\}' should be listed in the project's dependencies, not devDependencies. eslint([import/no-extraneous-dependencies](https://github.com/import-js/eslint-plugin-import/blob/v2.31.0/docs/rules/no-extraneous-dependencies.md))
3. Strings must use singlequote. eslint([quotes](https://eslint.org/docs/latest/rules/quotes))

ì´ ì¤‘ 3ë²ˆ ì˜¤ë¥˜ëŠ” ì¶”í›„ Prettierë¥¼ ì„¤ì •í•˜ë©´ì„œ í•´ê²°í•  ì˜ˆì •ì´ë¯€ë¡œ ìš°ì„  1, 2ë²ˆ ì˜¤ë¥˜ë¥¼ í•´ê²°í•´ë³´ê² ìŠµë‹ˆë‹¤.

### Unexpected dangling '\_' in '\_\_filename'

"Unexpected dangling '\_' in '\_\_filename'. eslint([no-underscore-dangle](https://eslint.org/docs/latest/rules/no-underscore-dangle))" ì˜¤ë¥˜ëŠ” Airbnb ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œì—ì„œ [ë³€ìˆ˜ ì´ë¦„ì— ì„ í–‰ ë°‘ì¤„ì´ë‚˜ í›„í–‰ ë°‘ì¤„ì„ ê¸ˆì§€](https://github.com/airbnb/javascript?tab=readme-ov-file#naming--leading-underscore)í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤.

í˜„ì¬ `eslint.config.js`ì—ì„œëŠ” `__filename`, `__dirname` ë³€ìˆ˜ì— ì„ í–‰ ë°‘ì¤„ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë° ì´ëŠ” CJS ëª¨ë“ˆ í™˜ê²½ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” `__filename`, `__dirname` ë³€ìˆ˜ë¥¼ ESM ëª¨ë“ˆ í™˜ê²½ì—ì„œ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•¨ì´ë‹ˆ `eslint.config.js` íŒŒì¼ì—ì„œëŠ” `no-underscord-dangle` ê·œì¹™ì„ ë¹„í™œì„±í™” í•´ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

ì•„ë˜ì™€ ê°™ì´ `eslint.config.js` íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.

```jsx
export default [
  pluginJs.configs.recommended,
  ...compat.extends('airbnb-base'),
  { languageOptions: { globals: globals.node, ecmaVersion: 'latest' } },
  {
    files: ['eslint.config.js'],
    rules: {
      // eslint.config.js íŒŒì¼ì—ì„œë§Œ 'no-underscore-dangle' ê·œì¹™ì„ ë¹„í™œì„±í™”
      'no-underscore-dangle': 'off',
    },
  },
];
```

### â€˜\{íŒ¨í‚¤ì§€ ì´ë¦„\}' should be listed in the project's dependencies, not devDependencies.

"\{íŒ¨í‚¤ì§€ ì´ë¦„\} should be listed in the project's dependencies, not devDependencies. eslint([import/no-extraneous-dependencies](https://github.com/import-js/eslint-plugin-import/blob/v2.31.0/docs/rules/no-extraneous-dependencies.md))" ì˜¤ë¥˜ëŠ” `eslint-config-airbnb-base`íŒ¨í‚¤ì§€ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”`eslint-plugin-import`í”ŒëŸ¬ê·¸ì¸ì˜`no-extraneous-dependencies` ê·œì¹™ìœ¼ë¡œ ì¸í•´ ë°œìƒí•©ë‹ˆë‹¤.

ê¸°ì¡´ `eslintrc` ì„¤ì • ì‹œìŠ¤í…œ ê¸°ë°˜ì˜ `eslint-config-airbnb-base` êµ¬ì„±ì„ â€˜flat configâ€™ ì„¤ì • ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ëŠ” ê³¼ì •ì—ì„œ `eslint-plugin-import` í”ŒëŸ¬ê·¸ì¸ì´ `package.json` íŒŒì¼ì´ ìœ„ì¹˜í•œ ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì§€ ëª»í•´ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì´ë‹ˆ ì•„ë˜ì™€ ê°™ì´ `eslint.config.js` íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.

```jsx
export default [
  pluginJs.configs.recommended,
  ...compat.extends('airbnb-base'),
  { languageOptions: { globals: globals.node, ecmaVersion: 'latest' } },
  {
    files: ['eslint.config.js'],
    rules: {
      // eslint.config.js íŒŒì¼ì—ì„œë§Œ 'no-underscore-dangle' ê·œì¹™ì„ ë¹„í™œì„±í™”
      'no-underscore-dangle': 'off',
      // package.json íŒŒì¼ì´ ìœ„ì¹˜í•œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ëª…ì‹œ
      'import/no-extraneous-dependencies': ['error', { packageDir: __dirname }],
    },
  },
];
```

## í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ ë°œìƒí•˜ëŠ” ESLint ì˜¤ë¥˜ í•´ê²°í•˜ê¸°

`__tests__` ë””ë ‰í† ë¦¬ í•˜ìœ„ì— ìˆëŠ” `ApplicationTest.js` íŒŒì¼ì—ì„œë„ ì•„ë˜ 2ê°€ì§€ ESLint ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. Unexpected use of file extension "js" for "../src/App.js" eslint([import/extensions](https://github.com/import-js/eslint-plugin-import/blob/v2.31.0/docs/rules/extensions.md))
2. â€˜jest' is not defined. eslint([no-undef](https://eslint.org/docs/latest/rules/no-undef))

![test-file-eslint-error.png](/img/eslint-flat-config/test-file-eslint-error.png)

### Unexpected use of file extension "js" for "../src/App.js"

`Unexpected use of file extension "js" for "../src/App.js" eslint([import/extensions](https://github.com/import-js/eslint-plugin-import/blob/v2.31.0/docs/rules/extensions.md))` ì˜¤ë¥˜ëŠ” Airbnb ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œì—ì„œ [ëª¨ë“ˆì„ importí•  ë•Œ í™•ì¥ì ì‚¬ìš©ì„ ê¸ˆì§€](https://github.com/airbnb/javascript?tab=readme-ov-file#modules--import-extensions)í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ [ESM ëª¨ë“ˆ í™˜ê²½ì—ì„œëŠ” ëª¨ë“ˆì„ importí•  ë•Œ í™•ì¥ì ì‚¬ìš©ì´ í•„ìˆ˜ì ](https://nodejs.org/docs/latest-v20.x/api/esm.html#mandatory-file-extensions)ì´ê¸° ë•Œë¬¸ì— `import/extensions` ê·œì¹™ì„ ìˆ˜ì •í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.

ì•„ë˜ì™€ ê°™ì´ `eslint.config.js` íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. ìˆ˜ì •ëœ `import/extensions` ê·œì¹™ì€ ëª¨ë“  JS íŒŒì¼ì— ì ìš©ë˜ì–´ì•¼ í•˜ë¯€ë¡œ `files`ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šì€ ì„¤ì • ê°ì²´ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

```jsx
export default [
  pluginJs.configs.recommended,
  ...compat.extends('airbnb-base'),
  {
    languageOptions: { globals: globals.node, ecmaVersion: 'latest' },
    rules: {
      // package importë¥¼ ì œì™¸í•œ ëª¨ë“  import êµ¬ë¬¸ì— ëŒ€í•´ í™•ì¥ìë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œ
      'import/extensions': ['error', 'ignorePackages'],
    },
  },
  {
    files: ['eslint.config.js'],
    rules: {
      // eslint.config.js íŒŒì¼ì—ì„œë§Œ 'no-underscore-dangle' ê·œì¹™ì„ ë¹„í™œì„±í™”
      'no-underscore-dangle': 'off',
      // package.json íŒŒì¼ì´ ìœ„ì¹˜í•œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ëª…ì‹œ
      'import/no-extraneous-dependencies': ['error', { packageDir: __dirname }],
    },
  },
];
```

### â€˜jest' is not defined.

`â€˜jest' is not defined. eslint([no-undef](https://eslint.org/docs/latest/rules/no-undef))` ì˜¤ë¥˜ëŠ” ESLintê°€ jest í”„ë ˆì„ì›Œí¬ì˜ ë¯¸ë¦¬ ì •ì˜ëœ ì „ì—­ ë³€ìˆ˜ë“¤ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ê¸° ë–„ë¬¸ì— ë°œìƒí•©ë‹ˆë‹¤.

ESLintê°€ jestì˜ ì „ì—­ ë³€ìˆ˜ë“¤ì„ ì¸ì‹í•  ìˆ˜ ìˆë„ë¡ `eslint.config.js` íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.

```jsx
export default [
  pluginJs.configs.recommended,
  ...compat.extends('airbnb-base'),
  {
    languageOptions: {
      globals: { ...globals.node, ...globals.jest },
      ecmaVersion: 'latest',
    },
    rules: {
      // package importë¥¼ ì œì™¸í•œ ëª¨ë“  import êµ¬ë¬¸ì— ëŒ€í•´ í™•ì¥ìë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œ
      'import/extensions': ['error', 'ignorePackages'],
    },
  },
  {
    files: ['eslint.config.js'],
    rules: {
      // eslint.config.js íŒŒì¼ì—ì„œë§Œ 'no-underscore-dangle' ê·œì¹™ì„ ë¹„í™œì„±í™”
      'no-underscore-dangle': 'off',
      // package.json íŒŒì¼ì´ ìœ„ì¹˜í•œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ëª…ì‹œ
      'import/no-extraneous-dependencies': ['error', { packageDir: __dirname }],
    },
  },
];
```

## Prettier ì„¤ì •í•˜ê¸°

ESLint ì„¤ì •ì´ ëª¨ë‘ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ ì´ì–´ì„œ Prettierë¥¼ ì„¤ì •í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. [ì´ì „ ê¸€](https://www.joonggon.me/posts/how-to-config-eslint-and-prettier) ì—ë„ ì–¸ê¸‰í–ˆì§€ë§Œ ESLintì™€ Prettierë¥¼ í•¨ê»˜ ì„¤ì •í•  ë•Œ ì£¼ì˜í•  ë¶€ë¶„ì€ ESLintì˜ ì½”ë“œ ìŠ¤íƒ€ì¼ ê·œì¹™ë“¤ì´ Prettierì™€ ì¶©ëŒí•  ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, Airbnb ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œì—ì„œëŠ” [ë¬¸ìì—´ ì‚¬ìš©ì‹œ í™‘ë”°ì˜´í‘œ(single quote)ë¥¼ ì‚¬ìš©ì„ ê¶Œì¥](https://github.com/airbnb/javascript?tab=readme-ov-file#strings--quotes)í•˜ê¸° ë•Œë¬¸ì— ESLintì˜ [quotes](https://eslint.org/docs/latest/rules/quotes) ê·œì¹™ìœ¼ë¡œ í™‘ë”°ì˜´í‘œ ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ë§Œ ë§Œì•½ Prettierì˜ [quotes](https://prettier.io/docs/en/options#quotes) ì˜µì…˜ì´ ìŒë”°ì˜´í‘œ(double quote)ë¡œ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ESLintì™€ PrettierëŠ” ê°™ì€ ìŠ¤íƒ€ì¼ ê·œì¹™ì— ëŒ€í•´ ì¶©ëŒí•œë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

PrettierëŠ” ì´ëŸ¬í•œ ì¶©ëŒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ESLintì˜ ì½”ë“œ ìŠ¤íƒ€ì¼ ê·œì¹™ë“¤ì„ ë¹„í™œì„±í™” ì‹œì¼œì£¼ëŠ” [eslint-config-prettier](https://github.com/prettier/eslint-config-prettier) íŒ¨í‚¤ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤. (`eslint-plugin-prettier` í”ŒëŸ¬ê·¸ì¸ì€ Prettierì—ì„œ ê¶Œì¥í•˜ëŠ” ì•ŠëŠ” í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤. ([ì¶œì²˜](https://prettier.io/docs/en/integrating-with-linters#notes)))

1. `prettier`, `eslint-config-prettier` ì„¤ì¹˜ë¥¼ ìœ„í•´ í„°ë¯¸ë„ì— ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

```bash
npm install prettier eslint-config-prettier --save-dev
```

2. í”„ë¡œì íŠ¸ ë£¨íŠ¸ í´ë” ìœ„ì¹˜ì—Â `.prettierrc`Â íŒŒì¼ (Prettier ì„¤ì • íŒŒì¼)ì„ ìƒì„±í•©ë‹ˆë‹¤.
3. ì•„ë˜ë¥¼ ì°¸ê³ í•˜ì—¬Â PrettierÂ ì˜µì…˜ë“¤ì„Â `.prettierrc`Â íŒŒì¼ì— ì‘ì„±í•©ë‹ˆë‹¤. ì¶”ê°€ì ì¸ ì˜µì…˜ë“¤ì€Â [**Prettier Options**](https://prettier.io/docs/en/options.html)ë¥¼ ì°¸ê³ í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

```json
{
  // ìŒë”°ì˜´í‘œ ëŒ€ì‹  í™‘ë”°ì˜´í‘œ ì‚¬ìš©
  "singleQuote": true,
  // ëª¨ë“  êµ¬ë¬¸ ëì— ì„¸ë¯¸ì½œë¡  ì¶œë ¥
  "semi": true,
  // íƒ­ ëŒ€ì‹  ê³µë°±ìœ¼ë¡œ ë“¤ì—¬ì“°ê¸°
  "useTabs": false,
  // ë“¤ì—¬ì“°ê¸° ê³µë°± ìˆ˜
  "tabWidth": 2,
  // ê°€ëŠ¥í•˜ë©´ í›„í–‰ ì‰¼í‘œ ì‚¬ìš©
  "trailingComma": "all",
  // ì¤„ ë°”ê¿ˆí•  ê¸¸ì´
  "printWidth": 80,
  // ê°ì²´ ê´„í˜¸ì— ê³µë°± ì‚½ì…
  "bracketSpacing": true,
  // í•­ìƒ í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ë§¤ê°œ ë³€ìˆ˜ë¥¼ ê´„í˜¸ë¡œ ê°ìŒˆ
  "arrowParens": "always",
  // OSì— ë”°ë¥¸ ì½”ë“œë¼ì¸ ë ì²˜ë¦¬ ë°©ì‹ ì‚¬ìš©
  "endOfLine": "auto"
}
```

4. ESLintì™€ì˜ ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•´ `eslint.config.js` íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤. (`eslint-config-airbnb-base`ì˜ ê·œì¹™ë“¤ì„ ë®ì–´ì¨ì•¼í•˜ê¸° ë•Œë¬¸ì— `...compat.extends("airbnb-base")` ë’¤ì— `prettier`ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.)

```jsx
import prettier from 'eslint-config-prettier';

export default [
  pluginJs.configs.recommended,
  ...compat.extends('airbnb-base'),
  prettier,
  {
    languageOptions: {
      globals: { ...globals.node, ...globals.jest },
      ecmaVersion: 'latest',
    },
    rules: {
      // package importë¥¼ ì œì™¸í•œ ëª¨ë“  import êµ¬ë¬¸ì— ëŒ€í•´ í™•ì¥ìë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œ
      'import/extensions': ['error', 'ignorePackages'],
    },
  },
  {
    files: ['eslint.config.js'],
    rules: {
      // eslint.config.js íŒŒì¼ì—ì„œë§Œ 'no-underscore-dangle' ê·œì¹™ì„ ë¹„í™œì„±í™”
      'no-underscore-dangle': 'off',
      // package.json íŒŒì¼ì´ ìœ„ì¹˜í•œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ëª…ì‹œ
      'import/no-extraneous-dependencies': ['error', { packageDir: __dirname }],
    },
  },
];
```

## VSCodeì—ì„œ ESLint, Prettier ìµìŠ¤í…ì…˜ ì‚¬ìš©í•˜ê¸°

ì´ì œ ESLintì™€ Prettier ì„¤ì •ì„ ëª¨ë‘ ë§ˆì³¤ìœ¼ë‹ˆ VSCode ESLint, Prettier ìµìŠ¤í…ì…˜ì—ì„œ ì œê³µí•˜ëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

VSCodeì˜ `settings.json` íŒŒì¼ì— ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤. (Shift + Command + Pë¥¼ ëˆŒëŸ¬ Command Paletteì„ ì—¬ì‹  ë‹¤ìŒ â€œOpen User Settings (JSON)â€ì„ ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤.)

```json
// íŒŒì¼ì„ ì €ì¥í•  ë•Œë§ˆë‹¤ `eslint` ê·œì¹™ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì½”ë“œë¥¼ ìˆ˜ì •
"editor.codeActionsOnSave": { "source.fixAll.eslint": true },
// `prettier`ë¥¼ ê¸°ë³¸ í¬ë§·í„°ë¡œ ì§€ì •
"editor.defaultFormatter": "esbenp.prettier-vscode",
// íŒŒì¼ì„ ì €ì¥í•  ë•Œë§ˆë‹¤ í¬ë§¤íŒ… ì‹¤í–‰
"editor.formatOnSave": true,
```

ì´ì œ íŒŒì¼ì„ ì €ì¥í•  ë•Œë§ˆë‹¤Â ESLintÂ ê·œì¹™ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì½”ë“œê°€ ìˆ˜ì •ë˜ê³ Â PrettierÂ ì„¤ì •ì— ë”°ë¼ ìë™ìœ¼ë¡œ ì½”ë“œê°€ í¬ë§¤íŒ… ë˜ëŠ” ë†€ë¼ìš´ ê²½í—˜ì„ í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸš€

## ë§ˆì¹˜ë©´ì„œ

ESLintì˜ ìƒˆë¡œìš´ â€˜flat configâ€™ ì„¤ì • ì‹œìŠ¤í…œê³¼ ê¸°ì¡´ `eslintrc` ì„¤ì • ì‹œìŠ¤í…œ ê¸°ë°˜ì˜ `eslint-config-airbnb-base` êµ¬ì„±ì„ í†µí•©í•˜ëŠ” ê³¼ì •ì´ ìƒê°ë³´ë‹¤ ë³µì¡í–ˆëŠ”ë°ìš”.

Airbnb ìë°”ìŠ¤í¬ë¦½íŠ¸ ìŠ¤íƒ€ì¼ ê°€ì´ë“œë¥¼ ESLintì˜ â€˜flat configâ€™ ì‹œìŠ¤í…œê³¼ í†µí•©í•˜ëŠ”ë° ì–´ë ¤ì›€ì„ ê²ªê³  ê³„ì‹œëŠ” ë¶„ë“¤ì—ê²Œ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.

[1ì£¼ì°¨ - ë¬¸ìì—´ ë§ì…ˆ ê³„ì‚°ê¸°](https://github.com/woowacourse-precourse/javascript-calculator-7) ë ˆí¬ì§€í† ë¦¬ì— ì„¤ì •í–ˆë˜ ESLintì™€ PrettierëŠ” [javascript-calculator-starter](https://github.com/2wndrhs/javascript-calculator-7/tree/javascript-calculator-starter) ë¸Œëœì¹˜ì— ë‚¨ê²¨ë†“ì•˜ìœ¼ë‹ˆ í•„ìš”í•˜ì‹œë©´ ì°¸ê³ í•´ ì£¼ì‹œë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.

+) í”„ë¡œê·¸ë˜ë° ìš”êµ¬ ì‚¬í•­ì— `package.json` íŒŒì¼ì€ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤ëŠ” ì œí•œì´ ìˆìœ¼ë‹ˆ `package.json` íŒŒì¼ì„ PRì— í¬í•¨ì‹œí‚¤ì§€ ì•Šê³  ì‹¶ì€ ë¶„ë“¤ì€ ESLintì™€ Prettierë¥¼ ì„¤ì •í•˜ë©´ì„œ ë³€ê²½ëœ `package.json`, `package-lock.json` íŒŒì¼ì„ ì»¤ë°‹í•˜ì§€ ì•Šìœ¼ì‹œë©´ ë©ë‹ˆë‹¤.

## ì°¸ê³ í•œ ê¸€

- [**ESLint's new config system, Part 1: Background**](https://eslint.org/blog/2022/08/new-config-system-part-1/)
- [**ESLint's new config system, Part 2: Introduction to flat config**](https://eslint.org/blog/2022/08/new-config-system-part-2/)
- [Flat config rollout plans](https://eslint.org/blog/2023/10/flat-config-rollout-plans/)
- [ECMAScript 2020ì˜ ìƒˆë¡œìš´ ì ](https://ui.toast.com/weekly-pick/ko_20200409)
- [[DevTools] ESLint 9 Flat Config + Prettier ì„¤ì • (TypeScript, React)](https://romantech.net/1286)
